sequenceDiagram
    participant AWX as AWX Controller
    participant RX as Receptor
    participant WK as ftl2-runner worker
    participant FTL as main.py

    AWX->>RX: transmit private_data_dir
    RX->>WK: unpack to runner dir

    WK->>WK: Load inventory
    WK->>WK: Load extravars
    WK->>WK: Ignore playbook

    WK->>FTL: Execute with inventory + vars

    loop FTL2 execution
        FTL->>WK: on_event module_start
        WK->>RX: stream event runner_on_start
        FTL->>FTL: execute module
        FTL->>WK: on_event module_complete
        WK->>RX: stream event runner_on_ok
    end

    FTL-->>WK: execution complete
    WK->>WK: write artifacts
    WK->>RX: stream final events
    RX->>AWX: process results
